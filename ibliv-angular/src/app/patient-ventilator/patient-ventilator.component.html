<app-alert [message]="message" [type]="alerttype" [show]="alertmode" (closed)="alertmode = false"></app-alert>
<div class="spinner-box" *ngIf="mainspinner">
  <div class="spinner-gradient"></div>
</div>
<div class="container mt-4" *ngIf="!mainspinner" >
  <h3 class="form-label">Patient ventilator</h3>
  <form #patmedicationchart="ngForm">
    <div class="row mb-3">
      <div class="col-md-6">
          <label for="patientdaysheet" class="form-label">Date*</label>
          <select name="patidaysheet" class="form-control" [(ngModel)]="sheetid" required>
            <option *ngFor="let patientsheet of patientdaysheets" value="{{patientsheet.patientdaysheetid}}">{{patientsheet.date?.toString()?.split("T")}}</option>
          </select>
      </div>
      <div class="col-md-6">
        <label for="ventilator" class="form-label">ventilator mode*</label>
        <select name="ventilator" class="form-control" [(ngModel)]="ventilatorid" required>
          <option *ngFor="let ven of ventilators" value="{{ven.ventilatormodeid}}">{{ven.ventilatormode}}</option>
        </select>
    </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-6">      
          <label for="fio2" class="form-label">fio2*</label>
          <input type="number" required class="form-control"  name="fio2" placeholder="Enter fio2" [(ngModel)]="patientventilator.fio2">
        </div>
        <div class="col-md-6">      
            <label for="peepcpap" class="form-label">peepcpap*</label>
            <input type="number" class="form-control" required  name="peepcpap" placeholder="Enter peepcpap" [(ngModel)]="patientventilator.peepcpap">
          </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">      
          <label for="rate" class="form-label">rate*</label>
           <input type="number" class="form-control" required  name="rate" placeholder="Enter rate" [(ngModel)]="patientventilator.rate">
        </div>
        <div class="col-md-6">
            <label for="tv" class="form-label">tv*</label>
           <input type="number" class="form-control" name="tv" required  [(ngModel)]="patientventilator.tv">
       </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
             <label for="ppeak" class="form-label">ppeak*</label>
            <input type="number" class="form-control" name="ppeak" required  [(ngModel)]="patientventilator.ppeak">
        </div>
        <div class="col-md-6">
            <label for="mv" class="form-label">mv*</label>
           <input type="number" class="form-control" name="mv" required  [(ngModel)]="patientventilator.mv">
       </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
             <label for="spo2" class="form-label">spo2*</label>
            <input type="number" class="form-control" name="spo2" required  [(ngModel)]="patientventilator.spo2">
        </div>
        <div class="col-md-6">
            <label for="cuffpressure" class="form-label">cuffpressure*</label>
           <input type="number" class="form-control" name="cuffpressure" required  [(ngModel)]="patientventilator.cuffpressure">
       </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
             <label for="epap" class="form-label">epap*</label>
            <input type="number" class="form-control" name="epap" required  [(ngModel)]="patientventilator.epap">
        </div>
        <div class="col-md-6">
            <label for="peakinsppressure" class="form-label">peakinsppressure*</label>
           <input type="number" class="form-control" name="peakinsppressure" required  [(ngModel)]="patientventilator.peakinsppressure">
       </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
             <label for="spo2" class="form-label">plateaupressure*</label>
            <input type="number" class="form-control" name="plateaupressure" required  [(ngModel)]="patientventilator.plateaupressure">
        </div>
      </div>
      <div class="spinner-gradient" *ngIf="spin"></div>
    <button type="submit" *ngIf="!spin" class="add-patient-btn" (click)="addventilator(patmedicationchart)">Update Measurements</button>
  </form>
</div>